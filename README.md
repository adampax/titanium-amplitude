## Titanium Amplitude

Wrapper for Amplitude Analytics SDKs.

### Compiled Modules
* [Android](https://github.com/adampax/titanium-amplitude/tree/master/android/dist)
* [iOS](https://github.com/adampax/titanium-amplitude/tree/master/ios/dist)

### About

This is a wrapper for the Amplitude [iOS](https://github.com/amplitude/Amplitude-iOS) and [Android](https://github.com/amplitude/Amplitude-Android) SDKs. Get more info in the [Amplitude Docs](https://amplitude.com/docs).

###

```javascript

var amplitude = require('com.polancomedia.amplitude');

ampitude.initialize('MY_API_KEY');

amplitude.logEvent('my_custom_event');

```

See full example in the `example` folder. 

### Methods

#### initialize(string)
* String containing your Amplitude API Key
* Must be called before any other methods

#### logEvent(string, obj)
* String containing your event name
* Optional object with name/value pairs

#### logRevenue(number)
* Log revenue generated by the install or user

#### setUserId(string)
* Use this if you want to associate your event data with a logged in user

#### setUserProperties(obj)
* pass an object with custom properties for the logged user

### Session tracking in Android

To track sessions in Android, the following must be added to every heavyweight window opened in the app. Note that starting in Ti SDK 3.2.0, every window is a heavyweight window.

Get more info on heavyweight windows and activities [here](http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.UI.Window). Scroll down to 'Android Platform Notes'.

```
if(Ti.Platform.osname === 'android'){
	win.addEventListener('open', function(){
		var activity = win.activity;
		if(activity){
			activity.addEventListener('resume', function(){
				amplitude.startSession();
			});
			
			activity.addEventListener('pause', function(){
				amplitude.endSession();
			});
		}	
	});
}
```

#### startSession
* Called on and window activitie's `resume` event.
* Android only

#### endSession
* Called on and window activitie's `pause` event.
* Android only

## About
* Me: [Adam Paxton](http://adampaxton.com) 
* Twitter: [@adampax](http://twitter.com/adampax)
* Work: [Polanco Media, LLC](http://polancomedia.com)

## License
MIT License
Copyright (c) 2014 Polanco Media, LLC
